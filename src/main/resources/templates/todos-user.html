<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org/" lang="en">
<head>
    <meta charset="UTF-8">
    <title>All ToDo lists of User</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
</head>
<div th:insert="header"></div>
<body>

<div class="container">
    <div class="row">
        <h2 th:text="'All ToDo Lists of ' + ${ownerFirstName} + ' ' + ${ownerLastName}"></h2>
    </div>

    <div class="d-flex flex-row-reverse">
        <a class="btn btn-primary btn-lg mb-3" role="button" th:href="@{|/todos/create/users/${user_id}|}">Create new Todo</a>
    </div>

    <table class="table">
        <thead class="table-dark">
        <tr>
            <th scope="col">No.</th>
            <th scope="col">Id</th>
            <th scope="col">Title</th>
            <th scope="col">CreatedAt</th>
            <th scope="col">Owner</th>
            <th colspan="2">Operations</th>
        </tr>
        </thead>
        <tbody>
        <tr class="font-weight-bold" th:each="t, counter : ${todos}">
            <td><p th:text="${counter.count}"></p></td>
            <td><p th:text="${t.id}"></p></td>
            <td><a th:href="@{|/todos/${t.id}/tasks|}" th:text="${t.title}"></a></td>
            <td><p th:text="${t.createdAt}"></p></td>
            <td><p th:text="${t.owner.getFirstName()} + ' ' + ${t.owner.getLastName()}"></p></td>
            <td>
                <a class="btn btn-primary" role="button" th:href="@{|/todos/${t.id}/update/users/${t.owner.id}|}">Edit</a>
            </td>
            <td>
                <a class="btn btn-danger" role="button" th:href="@{|/todos/${t.id}/delete/users/${t.owner.id}|}">Remove</a>
            </td>
        </tr>
        </tbody>
    </table>
</div>
</body>
</html>